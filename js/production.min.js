function jewelryPanelPosition(){var a=getOffsetLeft($(".jewelry-item.active")[0]);$(".jewelry-item.active").find(".jewelry-panel").css("left",-1*a+"px")}function advanceImage(){var a=$(".jewelry-item.active .jewelry-gallery li"),b=$(".jewelry-item.active .jewelry-gallery li").length;a.removeClass("active"),b>current?current++:current=1,$(".jewelry-item.active .jewelry-gallery li:nth-of-type("+current+")").addClass("active"),console.log(current)}function startInterval(){isLooping=setInterval(function(){advanceImage()},4e3)}function openPanel(a){var b=$("#"+a),c=b.parents(".jewelry-item");console.log(c),history.pushState(null,null,"#"+a),$(".jewelry-item").not(c).removeClass("active"),c.hasClass("active")?c.removeClass("active"):(c.addClass("active"),jewelryPanelPosition()),current=1,$(".jewelry-item.active .jewelry-gallery li").removeClass("active"),$(".jewelry-item.active .jewelry-gallery li:nth-of-type(1)").addClass("active"),isLooping===!1&&startInterval();var d=getOffsetTop(b[0]);console.log("Offset Top: "+d),window.scrollTo(0,d-$(".jewelry-thumb").height())}function getOffsetLeft(a){var b=0;do isNaN(a.offsetLeft)||(b+=a.offsetLeft);while(a=a.offsetParent);return b}function getOffsetTop(a){var b=0;do isNaN(a.offsetTop)||(b+=a.offsetTop);while(a=a.offsetParent);return b}!function(){$(".nav-toggle").on("click",function(a){a.preventDefault(),$(this).toggleClass("active"),$("#nav").toggleClass("active")})}(this);var isLooping=!1,current=1;flyoutMode=!1;var jewelryFlyout=document.querySelectorAll(".jewelry-image > a");if($(".jewelry-image > a").click(function(a){a.preventDefault();var b=$(this).attr("href").substring(1);openPanel(b)}),$(window).resize(function(){jewelryPanelPosition()}),$(".jewelry-gallery").click(function(){clearInterval(isLooping),isLooping=!1,advanceImage()}),window.location.hash){var hash=window.location.hash.substring(1);openPanel(hash)}